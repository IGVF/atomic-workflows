Dec-16 00:23:43.377 [main] DEBUG nextflow.cli.Launcher - $> nextflow run nf_wf_fg_singlecell_atac.nf -c nextflow_vm.config -profile google_batch_profile -with-tower -resume
Dec-16 00:23:43.771 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 23.10.0
Dec-16 00:23:43.801 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/eila/.nextflow/plugins; core-plugins: nf-amazon@2.1.4,nf-azure@1.3.2,nf-cloudcache@0.3.0,nf-codecommit@0.1.5,nf-console@1.0.6,nf-ga4gh@1.1.0,nf-google@1.8.3,nf-tower@1.6.3,nf-wave@1.0.0
Dec-16 00:23:43.847 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Dec-16 00:23:43.848 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Dec-16 00:23:43.854 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Dec-16 00:23:43.872 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Dec-16 00:23:43.906 [main] DEBUG nextflow.config.ConfigBuilder - User config file: /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_workflow/workflow_fg_single_cell_atac/nextflow_vm.config
Dec-16 00:23:43.907 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_workflow/workflow_fg_single_cell_atac/nextflow_vm.config
Dec-16 00:23:43.944 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `google_batch_profile`
Dec-16 00:23:47.069 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [docker_local, google_batch_profile, conda_profile]
Dec-16 00:23:47.125 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 by global default
Dec-16 00:23:47.160 [main] INFO  nextflow.cli.CmdRun - Launching `nf_wf_fg_singlecell_atac.nf` [mighty_knuth] DSL2 - revision: c741f56046
Dec-16 00:23:47.161 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[nf-google@1.8.3]
Dec-16 00:23:47.163 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[nf-google@1.8.3, nf-tower@1.6.3, nf-wave@1.0.0]
Dec-16 00:23:47.163 [main] DEBUG nextflow.plugin.PluginUpdater - Installing plugin nf-google version: 1.8.3
Dec-16 00:23:47.187 [main] INFO  org.pf4j.AbstractPluginManager - Plugin 'nf-google@1.8.3' resolved
Dec-16 00:23:47.188 [main] INFO  org.pf4j.AbstractPluginManager - Start plugin 'nf-google@1.8.3'
Dec-16 00:23:47.253 [main] DEBUG nextflow.plugin.BasePlugin - Plugin started nf-google@1.8.3
Dec-16 00:23:47.254 [main] DEBUG nextflow.plugin.PluginUpdater - Installing plugin nf-tower version: 1.6.3
Dec-16 00:23:47.257 [main] INFO  org.pf4j.AbstractPluginManager - Plugin 'nf-tower@1.6.3' resolved
Dec-16 00:23:47.257 [main] INFO  org.pf4j.AbstractPluginManager - Start plugin 'nf-tower@1.6.3'
Dec-16 00:23:47.271 [main] DEBUG nextflow.plugin.BasePlugin - Plugin started nf-tower@1.6.3
Dec-16 00:23:47.272 [main] DEBUG nextflow.plugin.PluginUpdater - Installing plugin nf-wave version: 1.0.0
Dec-16 00:23:47.276 [main] INFO  org.pf4j.AbstractPluginManager - Plugin 'nf-wave@1.0.0' resolved
Dec-16 00:23:47.276 [main] INFO  org.pf4j.AbstractPluginManager - Start plugin 'nf-wave@1.0.0'
Dec-16 00:23:47.288 [main] DEBUG nextflow.plugin.BasePlugin - Plugin started nf-wave@1.0.0
Dec-16 00:23:47.312 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /home/eila/.nextflow/secrets/store.json
Dec-16 00:23:47.318 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@3596b249] - activable => nextflow.secret.LocalSecretsProvider@3596b249
Dec-16 00:23:47.433 [main] DEBUG nextflow.Session - Session UUID: f7e37c4b-c1ab-4ccb-a8cb-153d209e8602
Dec-16 00:23:47.433 [main] DEBUG nextflow.Session - Run name: mighty_knuth
Dec-16 00:23:47.434 [main] DEBUG nextflow.Session - Executor pool size: 4
Dec-16 00:23:47.833 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Dec-16 00:23:47.840 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=12; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Dec-16 00:23:47.848 [main] DEBUG nextflow.config.ConfigBuilder - User config file: /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_workflow/workflow_fg_single_cell_atac/nextflow_vm.config
Dec-16 00:23:47.849 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_workflow/workflow_fg_single_cell_atac/nextflow_vm.config
Dec-16 00:23:47.850 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `google_batch_profile`
Dec-16 00:23:49.850 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [docker_local, google_batch_profile, conda_profile]
Dec-16 00:23:49.898 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 23.10.0 build 5889
  Created: 15-10-2023 15:07 UTC 
  System: Linux 5.10.0-26-cloud-amd64
  Runtime: Groovy 3.0.19 on OpenJDK 64-Bit Server VM 11.0.13+7-b1751.21
  Encoding: UTF-8 (UTF-8)
  Process: 298050@eila-vm [10.128.0.63]
  CPUs: 4 - Mem: 14.6 GB (806.8 MB) - Swap: 0 (0)
Dec-16 00:23:50.016 [main] DEBUG nextflow.file.FileHelper - Can't check if specified path is NFS (1): gs://eila-nextflow-bucket/work/ATAC

Dec-16 00:23:50.017 [main] DEBUG nextflow.Session - Work-dir: gs://eila-nextflow-bucket/work/ATAC [null]
Dec-16 00:23:50.067 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[GoogleLifeSciencesExecutor, GoogleBatchExecutor]
Dec-16 00:23:50.092 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Dec-16 00:23:50.096 [main] DEBUG nextflow.Session - Observer factory: WaveFactory
Dec-16 00:23:50.097 [main] DEBUG io.seqera.wave.plugin.WaveFactory - Detected Fusion enabled -- Enabling bundle project resources -- Disabling upload of remote bin directory
Dec-16 00:23:50.126 [main] DEBUG i.s.wave.plugin.config.WaveConfig - Wave strategy not specified - using default: [container, dockerfile, conda, spack]
Dec-16 00:23:50.140 [main] DEBUG io.seqera.wave.plugin.WaveClient - Wave config: WaveConfig(enabled:true, endpoint:https://wave.seqera.io, containerConfigUrl:[], tokensCacheMaxDuration:30m, condaOpts:CondaOpts(mambaImage=mambaorg/micromamba:1.5.1; basePackages=conda-forge::procps-ng, commands=null), spackOpts:SpackOpts(basePackages=null, commands=null), strategy:[container, dockerfile, conda, spack], bundleProjectResources:true, buildRepository:null, cacheRepository:null, retryOpts:RetryOpts(delay:450ms, maxDelay:1m 30s, maxAttempts:10, jitter:0.25), httpClientOpts:HttpOpts(), freezeMode:null, dryRunMode:false)
Dec-16 00:23:50.296 [main] DEBUG nextflow.Session - Observer factory: TowerFactory
Dec-16 00:23:50.423 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Dec-16 00:23:50.441 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 5; maxThreads: 1000
Dec-16 00:23:50.609 [main] DEBUG nextflow.Session - Session start
Dec-16 00:23:50.631 [main] DEBUG io.seqera.tower.plugin.TowerClient - Creating Tower observer -- endpoint=https://api.tower.nf; requestInterval=1s; aliveInterval=1m; maxRetries=5; backOffBase=3; backOffDelay=250
Dec-16 00:23:52.086 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Dec-16 00:23:53.013 [main] WARN  nextflow.script.ScriptBinding - `params.tss_bases_flank` is defined multiple times -- Assignments following the first are ignored
Dec-16 00:23:53.197 [main] INFO  nextflow.script.BaseScript - /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_data/nf_wf_fg_singlecell/atac_fastqs_files_vm.csv
Dec-16 00:23:53.198 [main] INFO  nextflow.script.BaseScript - null
Dec-16 00:23:53.401 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:seqspec_local` matches labels `seqspec_local` for process with name run_seqspec_modify_atac
Dec-16 00:23:53.408 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: google-batch
Dec-16 00:23:53.408 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'google-batch'
Dec-16 00:23:53.411 [main] DEBUG nextflow.executor.Executor - [warm up] executor > google-batch (fusion enabled)
Dec-16 00:23:53.416 [main] DEBUG n.processor.TaskPollingMonitor - Creating task monitor for executor 'google-batch' > capacity: 1000; pollInterval: 10s; dumpInterval: 5m 
Dec-16 00:23:53.418 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: google-batch)
Dec-16 00:23:53.423 [main] DEBUG nextflow.cloud.google.GoogleOpts - Google auth via application DEFAULT
Dec-16 00:23:53.428 [main] DEBUG n.c.google.batch.GoogleBatchExecutor - [GOOGLE BATCH] Executor config=BatchConfig[googleOpts=GoogleOpts(projectId:hai-gcp-genomic, credsFile:null, location:us-central1, enableRequesterPaysBuckets:false, httpConnectTimeout:1m, httpReadTimeout:1m, credentials:UserCredentials{requestMetadata=null, temporaryAccess=null, clientId=764086051850-6qr4p6gpi6hn506pt8ejuq83di341hur.apps.googleusercontent.com, refreshToken=1//04-ZrKvCfXPa5CgYIARAAGAQSNwF-L9IrkFtcwyfUDAhTeAquw0t0utu5nMRfG-U9l5uflp_XJI0EMWlO9aPKmi0CxdbKiKRekQc, tokenServerUri=https://oauth2.googleapis.com/token, transportFactoryClassName=com.google.auth.oauth2.OAuth2Utils$DefaultHttpTransportFactory, quotaProjectId=hai-gcp-genomic})
Dec-16 00:23:53.446 [main] DEBUG n.c.google.batch.client.BatchClient - [GOOGLE BATCH] Creating service client with config credentials
Dec-16 00:23:54.209 [main] INFO  nextflow.script.BaseScript - after run_seqspec_modify_atac
Dec-16 00:23:54.213 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:seqspec_local` matches labels `seqspec_local` for process with name run_seqspec_print
Dec-16 00:23:54.214 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: google-batch
Dec-16 00:23:54.215 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'google-batch'
Dec-16 00:23:54.219 [main] INFO  nextflow.script.BaseScript - after run_seqspec_print
Dec-16 00:23:54.220 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:chromap_local` matches labels `chromap_local` for process with name run_chromap_test
Dec-16 00:23:54.221 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: google-batch
Dec-16 00:23:54.222 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'google-batch'
Dec-16 00:23:54.228 [main] INFO  nextflow.script.BaseScript - after run_chromap_test
Dec-16 00:23:54.248 [main] INFO  nextflow.script.BaseScript - after genome_fasta_ch
Dec-16 00:23:54.252 [main] INFO  nextflow.script.BaseScript - after genome_gtf_ch
Dec-16 00:23:54.264 [main] INFO  nextflow.script.BaseScript - after genome_chromap_idx download
Dec-16 00:23:54.279 [main] INFO  nextflow.script.BaseScript - chromap parameters
Dec-16 00:23:54.280 [main] INFO  nextflow.script.BaseScript - false
Dec-16 00:23:54.281 [main] INFO  nextflow.script.BaseScript - false
Dec-16 00:23:54.281 [main] INFO  nextflow.script.BaseScript - false
Dec-16 00:23:54.281 [main] INFO  nextflow.script.BaseScript - false
Dec-16 00:23:54.281 [main] INFO  nextflow.script.BaseScript - false
Dec-16 00:23:54.282 [main] INFO  nextflow.script.BaseScript - false
Dec-16 00:23:54.283 [main] INFO  nextflow.script.BaseScript - 20
Dec-16 00:23:54.283 [main] INFO  nextflow.script.BaseScript - 20
Dec-16 00:23:54.284 [main] INFO  nextflow.script.BaseScript - 0.20
Dec-16 00:23:54.284 [main] INFO  nextflow.script.BaseScript - r1:0:-1,bc:0:-1
Dec-16 00:23:54.284 [main] INFO  nextflow.script.BaseScript - false
Dec-16 00:23:54.284 [main] INFO  nextflow.script.BaseScript - false
Dec-16 00:23:54.284 [main] INFO  nextflow.script.BaseScript - path
Dec-16 00:23:54.290 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:chromap_map_idx` matches labels `chromap_map_idx` for process with name run_chromap_map_to_idx
Dec-16 00:23:54.293 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: google-batch
Dec-16 00:23:54.293 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'google-batch'
Dec-16 00:23:54.300 [main] INFO  nextflow.script.BaseScript - finished run_chromap_map_to_idx
Dec-16 00:23:54.301 [main] INFO  nextflow.script.BaseScript - before call bgzip
Dec-16 00:23:54.301 [main] INFO  nextflow.script.BaseScript - DataflowBroadcast around DataflowStream[?]
Dec-16 00:23:54.305 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:bgzip` matches labels `bgzip` for process with name run_bgzip
Dec-16 00:23:54.307 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: google-batch
Dec-16 00:23:54.307 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'google-batch'
Dec-16 00:23:54.310 [main] INFO  nextflow.script.BaseScript - after call bgzip
Dec-16 00:23:54.310 [main] INFO  nextflow.script.BaseScript - run_tabix.sh
Dec-16 00:23:54.311 [main] INFO  nextflow.script.BaseScript - before call run_tabix_fragment_file
Dec-16 00:23:54.314 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:tabix` matches labels `tabix` for process with name run_tabix
Dec-16 00:23:54.315 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: google-batch
Dec-16 00:23:54.315 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'google-batch'
Dec-16 00:23:54.320 [main] INFO  nextflow.script.BaseScript - after call run_tabix_fragment_file
Dec-16 00:23:54.320 [main] INFO  nextflow.script.BaseScript - before call run_merge_logs
Dec-16 00:23:54.323 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:merge_log` matches labels `merge_log` for process with name run_merge_logs
Dec-16 00:23:54.324 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: google-batch
Dec-16 00:23:54.324 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'google-batch'
Dec-16 00:23:54.331 [main] INFO  nextflow.script.BaseScript - after call run_merge_logs
Dec-16 00:23:54.331 [main] INFO  nextflow.script.BaseScript - before call run_merge_logs
Dec-16 00:23:54.332 [main] INFO  nextflow.script.BaseScript - before call run_filter_fragments
Dec-16 00:23:54.335 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:filter_fragments` matches labels `filter_fragments` for process with name run_filter_fragments
Dec-16 00:23:54.337 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: google-batch
Dec-16 00:23:54.338 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'google-batch'
Dec-16 00:23:54.345 [main] INFO  nextflow.script.BaseScript - after call run_filter_fragments
Dec-16 00:23:54.346 [main] INFO  nextflow.script.BaseScript - before call run_tabix for the second time with filtered_fragment_file_out
Dec-16 00:23:54.346 [main] INFO  nextflow.script.BaseScript - DataflowBroadcast around DataflowStream[?]
Dec-16 00:23:54.349 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:tabix_after_fragments` matches labels `tabix_after_fragments` for process with name run_tabix_filtered_fragments
Dec-16 00:23:54.350 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: google-batch
Dec-16 00:23:54.350 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'google-batch'
Dec-16 00:23:54.354 [main] INFO  nextflow.script.BaseScript - before call run_calculate_tss_enrichment
Dec-16 00:23:54.354 [main] INFO  nextflow.script.BaseScript - after regions_ch
Dec-16 00:23:54.358 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:tss` matches labels `tss` for process with name run_calculate_tss_enrichment
Dec-16 00:23:54.360 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: google-batch
Dec-16 00:23:54.360 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'google-batch'
Dec-16 00:23:54.365 [main] INFO  nextflow.script.BaseScript - after call run_calculate_tss_enrichment
Dec-16 00:23:54.365 [main] INFO  nextflow.script.BaseScript - before call run_scrna_atac_plot_qc_metrics
Dec-16 00:23:54.369 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:scrna_atac_plot` matches labels `scrna_atac_plot` for process with name run_scrna_atac_plot_qc_metrics
Dec-16 00:23:54.371 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: google-batch
Dec-16 00:23:54.371 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'google-batch'
Dec-16 00:23:54.374 [main] INFO  nextflow.script.BaseScript - after call run_scrna_atac_plot_qc_metrics
Dec-16 00:23:54.375 [main] INFO  nextflow.script.BaseScript - before call run_generate_barcode_metadata
Dec-16 00:23:54.379 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:generate_barcode_metadata` matches labels `generate_barcode_metadata` for process with name run_atac_barcode_metadata
Dec-16 00:23:54.380 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: google-batch
Dec-16 00:23:54.381 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'google-batch'
Dec-16 00:23:54.386 [main] INFO  nextflow.script.BaseScript - before call run_generate_barcode_rank_plot
Dec-16 00:23:54.390 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withLabel:atac_barcode_rank_plot` matches labels `atac_barcode_rank_plot` for process with name run_atac_barcode_rank_plot
Dec-16 00:23:54.392 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: google-batch
Dec-16 00:23:54.392 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'google-batch'
Dec-16 00:23:54.397 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: run_merge_logs, run_seqspec_modify_rna, run_seqspec_print, run_atac_barcode_rank_plot, run_bgzip, run_calculate_tss_enrichment, run_atac_barcode_metadata, run_tabix, run_filter_fragments, run_create_chromap_idx, run_seqspec_check, run_seqspec_test, run_seqspec_index_rna_kb, run_scrna_atac_plot_qc_metrics, run_seqspec_modify_atac, run_chromap_test, run_tabix_filtered_fragments, run_downloadFiles, run_chromap_map_to_idx
Dec-16 00:23:54.772 [main] INFO  io.seqera.tower.plugin.TowerClient - Monitor the execution with Nextflow Tower using this URL: https://tower.nf/orgs/ort_eila_org/workspaces/ort_eila_wrkspc/watch/QHUDtNbvlfCnO
Dec-16 00:23:54.774 [main] DEBUG nextflow.Session - Igniting dataflow network (22)
Dec-16 00:23:54.788 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_seqspec_modify_atac
Dec-16 00:23:54.789 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_seqspec_print
Dec-16 00:23:54.790 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_chromap_test
Dec-16 00:23:54.795 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_chromap_map_to_idx
Dec-16 00:23:54.799 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_bgzip
Dec-16 00:23:54.799 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_tabix
Dec-16 00:23:54.800 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_merge_logs
Dec-16 00:23:54.802 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_filter_fragments
Dec-16 00:23:54.802 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_tabix_filtered_fragments
Dec-16 00:23:54.802 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_calculate_tss_enrichment
Dec-16 00:23:54.803 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_scrna_atac_plot_qc_metrics
Dec-16 00:23:54.803 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_atac_barcode_metadata
Dec-16 00:23:54.803 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > run_atac_barcode_rank_plot
Dec-16 00:23:54.805 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_7664153e6cd8ad6c: /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_workflow/workflow_fg_single_cell_atac/./../../nf_processes/nf_prcs_tss.nf
  Script_ea7cdb417e42517f: /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_workflow/workflow_fg_single_cell_atac/./../../nf_processes/nf_prcs_generate_barcode_metadata.nf
  Script_f63f7a0583acd4b8: /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_workflow/workflow_fg_single_cell_atac/./../../nf_processes/nf_prcs_bgzip.nf
  Script_7180cc8fa5a6505c: /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_workflow/workflow_fg_single_cell_atac/./../../nf_processes/nf_prcs_chromap_utils.nf
  Script_e112646bcdb899f0: /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_workflow/workflow_fg_single_cell_atac/./../../nf_processes/nf_prcs_seqspec_utils.nf
  Script_a453a0e93b458b79: /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_workflow/workflow_fg_single_cell_atac/nf_wf_fg_singlecell_atac.nf
  Script_3d78df279f932afb: /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_workflow/workflow_fg_single_cell_atac/./../../nf_processes/nf_prcs_atac_qc_plots.nf
  Script_1aaf2ed009725448: /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_workflow/workflow_fg_single_cell_atac/./../../nf_processes/nf_prcs_filter_fragments.nf
  Script_caef5739a3ac2dec: /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_workflow/workflow_fg_single_cell_atac/./../../nf_processes/nf_prcs_tabix.nf
  Script_3a8f9acf6dc0b764: /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_workflow/workflow_fg_single_cell_atac/./../../nf_processes/nf_prcs_atac_barcode_rank_plot.nf
  Script_9d4639c8cd883c70: /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_workflow/workflow_fg_single_cell_atac/./../../nf_processes/nf_prcs_download_url_files.nf
  Script_9c2ce54dcf0b5c06: /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_workflow/workflow_fg_single_cell_atac/./../../nf_processes/nf_prcs_merge_logs.nf
Dec-16 00:23:54.805 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Dec-16 00:23:54.805 [main] DEBUG nextflow.Session - Session await
Dec-16 00:23:54.944 [Actor Thread 8] DEBUG i.s.wave.plugin.config.WaveConfig - Wave strategy not specified - using default: [container, dockerfile, conda, spack]
Dec-16 00:23:54.962 [Actor Thread 8] DEBUG io.seqera.wave.plugin.WaveClient - Wave config: WaveConfig(enabled:true, endpoint:https://wave.seqera.io, containerConfigUrl:[], tokensCacheMaxDuration:30m, condaOpts:CondaOpts(mambaImage=mambaorg/micromamba:1.5.1; basePackages=conda-forge::procps-ng, commands=null), spackOpts:SpackOpts(basePackages=null, commands=null), strategy:[container, dockerfile, conda, spack], bundleProjectResources:true, buildRepository:null, cacheRepository:null, retryOpts:RetryOpts(delay:450ms, maxDelay:1m 30s, maxAttempts:10, jitter:0.25), httpClientOpts:HttpOpts(), freezeMode:null, dryRunMode:false)
Dec-16 00:23:54.983 [Actor Thread 8] DEBUG io.seqera.wave.plugin.WaveClient - Wave assets bundle bin resources: /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_workflow/workflow_fg_single_cell_atac/bin
Dec-16 00:23:55.302 [Actor Thread 8] DEBUG io.seqera.wave.plugin.WaveClient - Wave request container config: https://fusionfs.seqera.io/releases/v2.2-amd64.json
Dec-16 00:23:55.526 [Actor Thread 8] DEBUG io.seqera.wave.plugin.WaveClient - Wave container config response: [200] {
  "entrypoint": [ "/usr/bin/fusion" ],
  "layers": [
    {
      "location": "https://fusionfs.seqera.io/releases/pkg/2/2/11/fusion-amd64.tar.gz",
      "gzipDigest": "sha256:b1664eb81e6049524db659a1225570507eea75267a1a55b1e2a85edded9e773d",
      "gzipSize": 30262205,
      "tarDigest": "sha256:5e126d27b3c3b4ffac9a4b2c94bd2d15fabdceeddcdf9b711154fc03d8a88d47",
      "skipHashing": true
    }
  ]
}

Dec-16 00:23:55.659 [Actor Thread 8] DEBUG io.seqera.wave.plugin.WaveClient - Wave request: https://wave.seqera.io/container-token; attempt=1 - request: SubmitContainerTokenRequest(towerAccessToken:eyJ0aWQiOiA4Mjk3fS5jNDNmYzA4NTg2MjAxNDQzOTAwYmUzNWEzZTY0MGMyZTc0OWE3M2Mz, towerRefreshToken:null, towerWorkspaceId:247507587970818, towerEndpoint:https://api.tower.nf, workflowId:null, containerImage:eilalan/chromap_env:latest, containerFile:null, containerConfig:ContainerConfig(entrypoint:[/usr/bin/fusion], cmd:null, env:null, workingDir:null, layers:[ContainerLayer[location=data:H4sIAAAAAAAA/+19fXvb...; tarDigest=sha256:6c2ad26bd9c47a5c3d1cf24794ad350f3f876aa494a0d2b11231f6a11e1c540a; gzipDigest=sha256:a61fe64e8f0cb742a19f3c16c5e5b1996e75b94520a99e2c17116a93932cf704; gzipSize=16337], ContainerLayer[location=https://fusionfs.seqera.io/releases/pkg/2/2/11/fusion-amd64.tar.gz; tarDigest=sha256:5e126d27b3c3b4ffac9a4b2c94bd2d15fabdceeddcdf9b711154fc03d8a88d47; gzipDigest=sha256:b1664eb81e6049524db659a1225570507eea75267a1a55b1e2a85edded9e773d; gzipSize=30262205]]), condaFile:null, spackFile:null, containerPlatform:linux/amd64, buildRepository:null, cacheRepository:null, timestamp:2023-12-16T00:23:55.657004Z, fingerprint:99c3560925621e7fa626e213c2070b39, freeze:false, format:null, dryRun:false)
Dec-16 00:23:56.357 [Actor Thread 8] DEBUG io.seqera.wave.plugin.WaveClient - Wave response: statusCode=200; body={"containerToken":"8f34a03c94f8","targetImage":"wave.seqera.io/wt/8f34a03c94f8/eilalan/chromap_env:latest","expiration":"2023-12-17T12:23:56.304429708Z","containerImage":"docker.io/eilalan/chromap_env:latest"}
Dec-16 00:23:56.364 [FileTransfer-1] DEBUG nextflow.file.FilePorter - Local cache found for foreign file /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_data/nf_wf_fg_singlecell/barcode_metadata.txt at gs://eila-nextflow-bucket/work/ATAC/stage-f7e37c4b-c1ab-4ccb-a8cb-153d209e8602/9d/e75b3d089d129b4439aaf2d24e2907/barcode_metadata.txt
Dec-16 00:23:56.402 [Actor Thread 11] DEBUG io.seqera.wave.plugin.WaveClient - Wave request: https://wave.seqera.io/container-token; attempt=1 - request: SubmitContainerTokenRequest(towerAccessToken:eyJ0aWQiOiA4Mjk3fS5jNDNmYzA4NTg2MjAxNDQzOTAwYmUzNWEzZTY0MGMyZTc0OWE3M2Mz, towerRefreshToken:null, towerWorkspaceId:247507587970818, towerEndpoint:https://api.tower.nf, workflowId:null, containerImage:eilalan/rna_atac_plot_qc_env:latest, containerFile:null, containerConfig:ContainerConfig(entrypoint:[/usr/bin/fusion], cmd:null, env:null, workingDir:null, layers:[ContainerLayer[location=data:H4sIAAAAAAAA/+19fXvb...; tarDigest=sha256:6c2ad26bd9c47a5c3d1cf24794ad350f3f876aa494a0d2b11231f6a11e1c540a; gzipDigest=sha256:a61fe64e8f0cb742a19f3c16c5e5b1996e75b94520a99e2c17116a93932cf704; gzipSize=16337], ContainerLayer[location=https://fusionfs.seqera.io/releases/pkg/2/2/11/fusion-amd64.tar.gz; tarDigest=sha256:5e126d27b3c3b4ffac9a4b2c94bd2d15fabdceeddcdf9b711154fc03d8a88d47; gzipDigest=sha256:b1664eb81e6049524db659a1225570507eea75267a1a55b1e2a85edded9e773d; gzipSize=30262205]]), condaFile:null, spackFile:null, containerPlatform:linux/amd64, buildRepository:null, cacheRepository:null, timestamp:2023-12-16T00:23:56.400757Z, fingerprint:8f7c276526a4052c0c90c63e342a35d9, freeze:false, format:null, dryRun:false)
Dec-16 00:23:56.634 [Actor Thread 11] DEBUG io.seqera.wave.plugin.WaveClient - Wave response: statusCode=200; body={"containerToken":"b2d4929ecd2a","targetImage":"wave.seqera.io/wt/b2d4929ecd2a/eilalan/rna_atac_plot_qc_env:latest","expiration":"2023-12-17T12:23:56.581315216Z","containerImage":"docker.io/eilalan/rna_atac_plot_qc_env:latest"}
Dec-16 00:23:57.773 [FileTransfer-2] DEBUG nextflow.file.FilePorter - Local cache found for foreign file /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_data/nf_wf_fg_singlecell/filtered_barcode_stats.csv at gs://eila-nextflow-bucket/work/ATAC/stage-f7e37c4b-c1ab-4ccb-a8cb-153d209e8602/bd/acc302ab8883d735007368521583aa/filtered_barcode_stats.csv
Dec-16 00:23:58.308 [FileTransfer-3] DEBUG nextflow.file.FilePorter - Local cache found for foreign file /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_data/nf_wf_fg_singlecell/tss_enrichment_barcode_stats.csv at gs://eila-nextflow-bucket/work/ATAC/stage-f7e37c4b-c1ab-4ccb-a8cb-153d209e8602/25/a0bf299efc77a583281aeec1ef8c24/tss_enrichment_barcode_stats.csv
Dec-16 00:23:58.361 [Actor Thread 6] DEBUG io.seqera.wave.plugin.WaveClient - Wave request: https://wave.seqera.io/container-token; attempt=1 - request: SubmitContainerTokenRequest(towerAccessToken:eyJ0aWQiOiA4Mjk3fS5jNDNmYzA4NTg2MjAxNDQzOTAwYmUzNWEzZTY0MGMyZTc0OWE3M2Mz, towerRefreshToken:null, towerWorkspaceId:247507587970818, towerEndpoint:https://api.tower.nf, workflowId:null, containerImage:eilalan/utils_env:latest, containerFile:null, containerConfig:ContainerConfig(entrypoint:[/usr/bin/fusion], cmd:null, env:null, workingDir:null, layers:[ContainerLayer[location=data:H4sIAAAAAAAA/+19fXvb...; tarDigest=sha256:6c2ad26bd9c47a5c3d1cf24794ad350f3f876aa494a0d2b11231f6a11e1c540a; gzipDigest=sha256:a61fe64e8f0cb742a19f3c16c5e5b1996e75b94520a99e2c17116a93932cf704; gzipSize=16337], ContainerLayer[location=https://fusionfs.seqera.io/releases/pkg/2/2/11/fusion-amd64.tar.gz; tarDigest=sha256:5e126d27b3c3b4ffac9a4b2c94bd2d15fabdceeddcdf9b711154fc03d8a88d47; gzipDigest=sha256:b1664eb81e6049524db659a1225570507eea75267a1a55b1e2a85edded9e773d; gzipSize=30262205]]), condaFile:null, spackFile:null, containerPlatform:linux/amd64, buildRepository:null, cacheRepository:null, timestamp:2023-12-16T00:23:58.360504Z, fingerprint:a7ea06b3863091fd50bae018d4b381a8, freeze:false, format:null, dryRun:false)
Dec-16 00:23:58.685 [Actor Thread 6] DEBUG io.seqera.wave.plugin.WaveClient - Wave response: statusCode=200; body={"containerToken":"7012c9c2b593","targetImage":"wave.seqera.io/wt/7012c9c2b593/eilalan/utils_env:latest","expiration":"2023-12-17T12:23:58.630908929Z","containerImage":"docker.io/eilalan/utils_env:latest"}
Dec-16 00:23:59.014 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_chromap_test` submitted > job=nf-48170feb-1702686236684; uid=nf-48170feb-170268-d5ab84a7-f776-4fae0; work-dir=gs://eila-nextflow-bucket/work/ATAC/48/170feb59231d84c7bcaec1946aec96
Dec-16 00:23:59.015 [Task submitter] INFO  nextflow.Session - [48/170feb] Submitted process > run_chromap_test
Dec-16 00:23:59.332 [FileTransfer-4] DEBUG nextflow.file.FilePorter - Local cache found for foreign file /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_data/nf_wf_fg_singlecell/specs/dogmaseq-dig/fastqs/ATAC/atac_R1_SRR18677642.fastq.gz at gs://eila-nextflow-bucket/work/ATAC/stage-f7e37c4b-c1ab-4ccb-a8cb-153d209e8602/52/d8d73bad2654a6c22f23717483c056/atac_R1_SRR18677642.fastq.gz
Dec-16 00:23:59.335 [FileTransfer-5] DEBUG nextflow.file.FilePorter - Local cache found for foreign file /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_data/nf_wf_fg_singlecell/specs/dogmaseq-dig/fastqs/ATAC/atac_R2_SRR18677642.fastq.gz at gs://eila-nextflow-bucket/work/ATAC/stage-f7e37c4b-c1ab-4ccb-a8cb-153d209e8602/63/dcbbccff592e0ab8b16bc0526e922d/atac_R2_SRR18677642.fastq.gz
Dec-16 00:23:59.389 [FileTransfer-8] DEBUG nextflow.file.FilePorter - Local cache found for foreign file /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_data/nf_wf_fg_singlecell/specs/dogmaseq-dig/RNA-737K-arc-v1.txt at gs://eila-nextflow-bucket/work/ATAC/stage-f7e37c4b-c1ab-4ccb-a8cb-153d209e8602/ab/8fd9454acd38f552158cbf8dfc15ff/RNA-737K-arc-v1.txt
Dec-16 00:23:59.530 [FileTransfer-6] DEBUG nextflow.file.FilePorter - Local cache found for foreign file /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_data/nf_wf_fg_singlecell/specs/dogmaseq-dig/fastqs/ATAC/atac_R3_SRR18677642.fastq.gz at gs://eila-nextflow-bucket/work/ATAC/stage-f7e37c4b-c1ab-4ccb-a8cb-153d209e8602/2e/49ad06aa6cd6d7bd59d457ac6055f3/atac_R3_SRR18677642.fastq.gz
Dec-16 00:23:59.533 [FileTransfer-9] DEBUG nextflow.file.FilePorter - Local cache found for foreign file /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_data/nf_wf_fg_singlecell/specs/dogmaseq-dig/Homo_sapiens.GRCh38.dna.primary_assembly.chromap.ref.index at gs://eila-nextflow-bucket/work/ATAC/stage-f7e37c4b-c1ab-4ccb-a8cb-153d209e8602/8c/71d86079facc3c45344e2052f27c6d/Homo_sapiens.GRCh38.dna.primary_assembly.chromap.ref.index
Dec-16 00:23:59.546 [FileTransfer-7] DEBUG nextflow.file.FilePorter - Local cache found for foreign file /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_data/nf_wf_fg_singlecell/specs/dogmaseq-dig/nf_spec_dogmaseq_dig.yaml at gs://eila-nextflow-bucket/work/ATAC/stage-f7e37c4b-c1ab-4ccb-a8cb-153d209e8602/02/6f0e96773aa7bc71988792e5c9784c/nf_spec_dogmaseq_dig.yaml
Dec-16 00:23:59.552 [FileTransfer-10] DEBUG nextflow.file.FilePorter - Local cache found for foreign file http://ftp.ensembl.org/pub/release-109/fasta/homo_sapiens/dna/Homo_sapiens.GRCh38.dna.primary_assembly.fa.gz at gs://eila-nextflow-bucket/work/ATAC/stage-f7e37c4b-c1ab-4ccb-a8cb-153d209e8602/f3/0b877a714c8f38a60dbb9221529e08/Homo_sapiens.GRCh38.dna.primary_assembly.fa.gz
Dec-16 00:23:59.579 [Actor Thread 5] DEBUG io.seqera.wave.plugin.WaveClient - Wave request: https://wave.seqera.io/container-token; attempt=1 - request: SubmitContainerTokenRequest(towerAccessToken:eyJ0aWQiOiA4Mjk3fS5jNDNmYzA4NTg2MjAxNDQzOTAwYmUzNWEzZTY0MGMyZTc0OWE3M2Mz, towerRefreshToken:null, towerWorkspaceId:247507587970818, towerEndpoint:https://api.tower.nf, workflowId:null, containerImage:eilalan/seqspec_env:latest, containerFile:null, containerConfig:ContainerConfig(entrypoint:[/usr/bin/fusion], cmd:null, env:null, workingDir:null, layers:[ContainerLayer[location=data:H4sIAAAAAAAA/+19fXvb...; tarDigest=sha256:6c2ad26bd9c47a5c3d1cf24794ad350f3f876aa494a0d2b11231f6a11e1c540a; gzipDigest=sha256:a61fe64e8f0cb742a19f3c16c5e5b1996e75b94520a99e2c17116a93932cf704; gzipSize=16337], ContainerLayer[location=https://fusionfs.seqera.io/releases/pkg/2/2/11/fusion-amd64.tar.gz; tarDigest=sha256:5e126d27b3c3b4ffac9a4b2c94bd2d15fabdceeddcdf9b711154fc03d8a88d47; gzipDigest=sha256:b1664eb81e6049524db659a1225570507eea75267a1a55b1e2a85edded9e773d; gzipSize=30262205]]), condaFile:null, spackFile:null, containerPlatform:linux/amd64, buildRepository:null, cacheRepository:null, timestamp:2023-12-16T00:23:59.578022Z, fingerprint:4a81bec6302d9d4f35bd34e0352134ad, freeze:false, format:null, dryRun:false)
Dec-16 00:23:59.613 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_scrna_atac_plot_qc_metrics` - adding local volume as fusion scratch: DiskResource(request:375 GB, type:local-ssd)
Dec-16 00:23:59.786 [Actor Thread 5] DEBUG io.seqera.wave.plugin.WaveClient - Wave response: statusCode=200; body={"containerToken":"5859c2e8ed14","targetImage":"wave.seqera.io/wt/5859c2e8ed14/eilalan/seqspec_env:latest","expiration":"2023-12-17T12:23:59.733431272Z","containerImage":"docker.io/eilalan/seqspec_env:latest"}
Dec-16 00:23:59.859 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_scrna_atac_plot_qc_metrics` submitted > job=nf-e8ce9c8f-1702686236984; uid=nf-e8ce9c8f-170268-1de5de5c-e453-49760; work-dir=gs://eila-nextflow-bucket/work/ATAC/e8/ce9c8ff4356906a36eb9c404eb1c69
Dec-16 00:23:59.860 [Task submitter] INFO  nextflow.Session - [e8/ce9c8f] Submitted process > run_scrna_atac_plot_qc_metrics
Dec-16 00:24:00.393 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_atac_barcode_metadata` - adding local volume as fusion scratch: DiskResource(request:375 GB, type:local-ssd)
Dec-16 00:24:00.575 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_atac_barcode_metadata` submitted > job=nf-4f8c09b9-1702686239123; uid=nf-4f8c09b9-170268-0dcf8e8a-b794-4b420; work-dir=gs://eila-nextflow-bucket/work/ATAC/4f/8c09b9839420e9af1a0cb828909313
Dec-16 00:24:00.576 [Task submitter] INFO  nextflow.Session - [4f/8c09b9] Submitted process > run_atac_barcode_metadata
Dec-16 00:24:01.179 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_chromap_map_to_idx (1)` - adding local volume as fusion scratch: DiskResource(request:375 GB, type:local-ssd)
Dec-16 00:24:01.374 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_chromap_map_to_idx (1)` submitted > job=nf-82b12493-1702686240468; uid=nf-82b12493-170268-347d4ce7-d5f5-400f0; work-dir=gs://eila-nextflow-bucket/work/ATAC/82/b124936231a16efde9a7560c842ff9
Dec-16 00:24:01.375 [Task submitter] INFO  nextflow.Session - [82/b12493] Submitted process > run_chromap_map_to_idx (1)
Dec-16 00:24:01.901 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_seqspec_modify_atac (1)` - adding local volume as fusion scratch: DiskResource(request:375 GB, type:local-ssd)
Dec-16 00:24:02.063 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_seqspec_modify_atac (1)` submitted > job=nf-09e622d3-1702686240523; uid=nf-09e622d3-170268-a8ebd9de-eb9f-40ee0; work-dir=gs://eila-nextflow-bucket/work/ATAC/09/e622d3a9d5998f486c22e37670d996
Dec-16 00:24:02.063 [Task submitter] INFO  nextflow.Session - [09/e622d3] Submitted process > run_seqspec_modify_atac (1)
Dec-16 00:26:03.471 [Task monitor] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_chromap_test` - terminated job=nf-48170feb-1702686236684; state=SUCCEEDED
Dec-16 00:26:03.842 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 2; name: run_chromap_test; status: COMPLETED; exit: 0; error: -; workDir: gs://eila-nextflow-bucket/work/ATAC/48/170feb59231d84c7bcaec1946aec96]
Dec-16 00:26:23.502 [Task monitor] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_atac_barcode_metadata` - terminated job=nf-4f8c09b9-1702686239123; state=SUCCEEDED
Dec-16 00:26:23.835 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: run_atac_barcode_metadata; status: COMPLETED; exit: 0; error: -; workDir: gs://eila-nextflow-bucket/work/ATAC/4f/8c09b9839420e9af1a0cb828909313]
Dec-16 00:26:24.570 [Task monitor] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_seqspec_modify_atac (1)` - terminated job=nf-09e622d3-1702686240523; state=SUCCEEDED
Dec-16 00:26:24.820 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 5; name: run_seqspec_modify_atac (1); status: COMPLETED; exit: 0; error: -; workDir: gs://eila-nextflow-bucket/work/ATAC/09/e622d3a9d5998f486c22e37670d996]
Dec-16 00:26:24.952 [Actor Thread 14] DEBUG io.seqera.wave.plugin.WaveClient - Wave request container config: https://fusionfs.seqera.io/releases/v2.2-amd64.json
Dec-16 00:26:25.008 [Actor Thread 14] DEBUG io.seqera.wave.plugin.WaveClient - Wave container config response: [200] {
  "entrypoint": [ "/usr/bin/fusion" ],
  "layers": [
    {
      "location": "https://fusionfs.seqera.io/releases/pkg/2/2/11/fusion-amd64.tar.gz",
      "gzipDigest": "sha256:b1664eb81e6049524db659a1225570507eea75267a1a55b1e2a85edded9e773d",
      "gzipSize": 30262205,
      "tarDigest": "sha256:5e126d27b3c3b4ffac9a4b2c94bd2d15fabdceeddcdf9b711154fc03d8a88d47",
      "skipHashing": true
    }
  ]
}

Dec-16 00:26:26.049 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_seqspec_print (1)` - adding local volume as fusion scratch: DiskResource(request:375 GB, type:local-ssd)
Dec-16 00:26:26.321 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_seqspec_print (1)` submitted > job=nf-8be758c1-1702686385471; uid=nf-8be758c1-170268-a02d3460-605e-4bce0; work-dir=gs://eila-nextflow-bucket/work/ATAC/8b/e758c19fc7faef71536027245b70d0
Dec-16 00:26:26.321 [Task submitter] INFO  nextflow.Session - [8b/e758c1] Submitted process > run_seqspec_print (1)
Dec-16 00:27:03.467 [Task monitor] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_scrna_atac_plot_qc_metrics` - terminated job=nf-e8ce9c8f-1702686236984; state=SUCCEEDED
Dec-16 00:27:03.730 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 3; name: run_scrna_atac_plot_qc_metrics; status: COMPLETED; exit: 0; error: -; workDir: gs://eila-nextflow-bucket/work/ATAC/e8/ce9c8ff4356906a36eb9c404eb1c69]
Dec-16 00:28:43.506 [Task monitor] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_seqspec_print (1)` - terminated job=nf-8be758c1-1702686385471; state=SUCCEEDED
Dec-16 00:28:43.781 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 6; name: run_seqspec_print (1); status: COMPLETED; exit: 0; error: -; workDir: gs://eila-nextflow-bucket/work/ATAC/8b/e758c19fc7faef71536027245b70d0]
Dec-16 00:29:03.435 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor google-batch > tasks to be completed: 1 -- submitted tasks are shown below
~> TaskHandler[id: 4; name: run_chromap_map_to_idx (1); status: RUNNING; exit: -; error: -; workDir: gs://eila-nextflow-bucket/work/ATAC/82/b124936231a16efde9a7560c842ff9]
Dec-16 00:29:33.468 [Task monitor] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_chromap_map_to_idx (1)` - terminated job=nf-82b12493-1702686240468; state=SUCCEEDED
Dec-16 00:29:33.799 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 4; name: run_chromap_map_to_idx (1); status: COMPLETED; exit: 0; error: -; workDir: gs://eila-nextflow-bucket/work/ATAC/82/b124936231a16efde9a7560c842ff9]
Dec-16 00:29:35.260 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_merge_logs (1)` - adding local volume as fusion scratch: DiskResource(request:375 GB, type:local-ssd)
Dec-16 00:29:35.462 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_merge_logs (1)` submitted > job=nf-6803bd73-1702686574691; uid=nf-6803bd73-170268-8729229e-dc6f-41560; work-dir=gs://eila-nextflow-bucket/work/ATAC/68/03bd7397e9bbf69349b7e5e3ccdc3a
Dec-16 00:29:35.462 [Task submitter] INFO  nextflow.Session - [68/03bd73] Submitted process > run_merge_logs (1)
Dec-16 00:29:36.167 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_bgzip (1)` - adding local volume as fusion scratch: DiskResource(request:375 GB, type:local-ssd)
Dec-16 00:29:36.313 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_bgzip (1)` submitted > job=nf-cc479ad3-1702686574716; uid=nf-cc479ad3-170268-388f0236-d27d-4ab10; work-dir=gs://eila-nextflow-bucket/work/ATAC/cc/479ad3ea83e7e55356102d70ff5677
Dec-16 00:29:36.314 [Task submitter] INFO  nextflow.Session - [cc/479ad3] Submitted process > run_bgzip (1)
Dec-16 00:32:03.472 [Task monitor] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_merge_logs (1)` - terminated job=nf-6803bd73-1702686574691; state=SUCCEEDED
Dec-16 00:32:03.814 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 8; name: run_merge_logs (1); status: COMPLETED; exit: 0; error: -; workDir: gs://eila-nextflow-bucket/work/ATAC/68/03bd7397e9bbf69349b7e5e3ccdc3a]
Dec-16 00:32:04.528 [Task monitor] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_bgzip (1)` - terminated job=nf-cc479ad3-1702686574716; state=SUCCEEDED
Dec-16 00:32:04.775 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 7; name: run_bgzip (1); status: COMPLETED; exit: 0; error: -; workDir: gs://eila-nextflow-bucket/work/ATAC/cc/479ad3ea83e7e55356102d70ff5677]
Dec-16 00:32:05.741 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_tabix (1)` - adding local volume as fusion scratch: DiskResource(request:375 GB, type:local-ssd)
Dec-16 00:32:05.939 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_tabix (1)` submitted > job=nf-1f0d2944-1702686725217; uid=nf-1f0d2944-170268-e347c933-849c-40ba0; work-dir=gs://eila-nextflow-bucket/work/ATAC/1f/0d294450890e95a1c4cff46de2c530
Dec-16 00:32:05.939 [Task submitter] INFO  nextflow.Session - [1f/0d2944] Submitted process > run_tabix (1)
Dec-16 00:34:03.445 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor google-batch > tasks to be completed: 1 -- submitted tasks are shown below
~> TaskHandler[id: 9; name: run_tabix (1); status: SUBMITTED; exit: -; error: -; workDir: gs://eila-nextflow-bucket/work/ATAC/1f/0d294450890e95a1c4cff46de2c530]
Dec-16 00:34:23.491 [Task monitor] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_tabix (1)` - terminated job=nf-1f0d2944-1702686725217; state=SUCCEEDED
Dec-16 00:34:23.847 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 9; name: run_tabix (1); status: COMPLETED; exit: 0; error: -; workDir: gs://eila-nextflow-bucket/work/ATAC/1f/0d294450890e95a1c4cff46de2c530]
Dec-16 00:34:24.425 [FileTransfer-1] DEBUG nextflow.file.FilePorter - Local cache found for foreign file /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_data/nf_wf_fg_singlecell/na.na at gs://eila-nextflow-bucket/work/ATAC/stage-f7e37c4b-c1ab-4ccb-a8cb-153d209e8602/fa/e248d3ca5c1f9fcb994134d160cc35/na.na
Dec-16 00:34:24.478 [Actor Thread 5] DEBUG io.seqera.wave.plugin.WaveClient - Wave request container config: https://fusionfs.seqera.io/releases/v2.2-amd64.json
Dec-16 00:34:24.539 [Actor Thread 5] DEBUG io.seqera.wave.plugin.WaveClient - Wave container config response: [200] {
  "entrypoint": [ "/usr/bin/fusion" ],
  "layers": [
    {
      "location": "https://fusionfs.seqera.io/releases/pkg/2/2/11/fusion-amd64.tar.gz",
      "gzipDigest": "sha256:b1664eb81e6049524db659a1225570507eea75267a1a55b1e2a85edded9e773d",
      "gzipSize": 30262205,
      "tarDigest": "sha256:5e126d27b3c3b4ffac9a4b2c94bd2d15fabdceeddcdf9b711154fc03d8a88d47",
      "skipHashing": true
    }
  ]
}

Dec-16 00:34:25.611 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_filter_fragments (1)` - adding local volume as fusion scratch: DiskResource(request:375 GB, type:local-ssd)
Dec-16 00:34:25.796 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_filter_fragments (1)` submitted > job=nf-94f59577-1702686865058; uid=nf-94f59577-170268-178464c7-b6a7-4ed10; work-dir=gs://eila-nextflow-bucket/work/ATAC/94/f59577254540402a857dd412351368
Dec-16 00:34:25.796 [Task submitter] INFO  nextflow.Session - [94/f59577] Submitted process > run_filter_fragments (1)
Dec-16 00:36:53.491 [Task monitor] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_filter_fragments (1)` - terminated job=nf-94f59577-1702686865058; state=SUCCEEDED
Dec-16 00:36:53.801 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 10; name: run_filter_fragments (1); status: COMPLETED; exit: 0; error: -; workDir: gs://eila-nextflow-bucket/work/ATAC/94/f59577254540402a857dd412351368]
Dec-16 00:36:54.057 [Actor Thread 13] DEBUG io.seqera.wave.plugin.WaveClient - Wave request: https://wave.seqera.io/container-token; attempt=1 - request: SubmitContainerTokenRequest(towerAccessToken:eyJ0aWQiOiA4Mjk3fS5jNDNmYzA4NTg2MjAxNDQzOTAwYmUzNWEzZTY0MGMyZTc0OWE3M2Mz, towerRefreshToken:null, towerWorkspaceId:247507587970818, towerEndpoint:https://api.tower.nf, workflowId:null, containerImage:eilalan/rank_plot_env:latest, containerFile:null, containerConfig:ContainerConfig(entrypoint:[/usr/bin/fusion], cmd:null, env:null, workingDir:null, layers:[ContainerLayer[location=data:H4sIAAAAAAAA/+19fXvb...; tarDigest=sha256:6c2ad26bd9c47a5c3d1cf24794ad350f3f876aa494a0d2b11231f6a11e1c540a; gzipDigest=sha256:a61fe64e8f0cb742a19f3c16c5e5b1996e75b94520a99e2c17116a93932cf704; gzipSize=16337], ContainerLayer[location=https://fusionfs.seqera.io/releases/pkg/2/2/11/fusion-amd64.tar.gz; tarDigest=sha256:5e126d27b3c3b4ffac9a4b2c94bd2d15fabdceeddcdf9b711154fc03d8a88d47; gzipDigest=sha256:b1664eb81e6049524db659a1225570507eea75267a1a55b1e2a85edded9e773d; gzipSize=30262205]]), condaFile:null, spackFile:null, containerPlatform:linux/amd64, buildRepository:null, cacheRepository:null, timestamp:2023-12-16T00:36:54.056656Z, fingerprint:22ae914c42c6c89a4edc1df2efecc928, freeze:false, format:null, dryRun:false)
Dec-16 00:36:54.821 [Actor Thread 13] DEBUG io.seqera.wave.plugin.WaveClient - Wave response: statusCode=200; body={"containerToken":"87dd2e15a528","targetImage":"wave.seqera.io/wt/87dd2e15a528/eilalan/rank_plot_env:latest","expiration":"2023-12-17T12:36:54.768569841Z","containerImage":"docker.io/eilalan/rank_plot_env:latest"}
Dec-16 00:36:55.035 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_tabix_filtered_fragments (1)` - adding local volume as fusion scratch: DiskResource(request:375 GB, type:local-ssd)
Dec-16 00:36:55.241 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_tabix_filtered_fragments (1)` submitted > job=nf-5fd43fc1-1702687014505; uid=nf-5fd43fc1-170268-a8eb3f1d-b0fe-4e360; work-dir=gs://eila-nextflow-bucket/work/ATAC/5f/d43fc1c8854ee056567526375cb380
Dec-16 00:36:55.241 [Task submitter] INFO  nextflow.Session - [5f/d43fc1] Submitted process > run_tabix_filtered_fragments (1)
Dec-16 00:36:55.896 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_atac_barcode_rank_plot (1)` - adding local volume as fusion scratch: DiskResource(request:375 GB, type:local-ssd)
Dec-16 00:36:56.095 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_atac_barcode_rank_plot (1)` submitted > job=nf-cdc99fa9-1702687015101; uid=nf-cdc99fa9-170268-2366a26a-b3ae-4d8a0; work-dir=gs://eila-nextflow-bucket/work/ATAC/cd/c99fa9b5c08c18749a9027d0df8b8f
Dec-16 00:36:56.095 [Task submitter] INFO  nextflow.Session - [cd/c99fa9] Submitted process > run_atac_barcode_rank_plot (1)
Dec-16 00:39:03.457 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor google-batch > tasks to be completed: 2 -- submitted tasks are shown below
~> TaskHandler[id: 11; name: run_tabix_filtered_fragments (1); status: SUBMITTED; exit: -; error: -; workDir: gs://eila-nextflow-bucket/work/ATAC/5f/d43fc1c8854ee056567526375cb380]
~> TaskHandler[id: 12; name: run_atac_barcode_rank_plot (1); status: SUBMITTED; exit: -; error: -; workDir: gs://eila-nextflow-bucket/work/ATAC/cd/c99fa9b5c08c18749a9027d0df8b8f]
Dec-16 00:39:13.511 [Task monitor] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_tabix_filtered_fragments (1)` - terminated job=nf-5fd43fc1-1702687014505; state=SUCCEEDED
Dec-16 00:39:13.901 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 11; name: run_tabix_filtered_fragments (1); status: COMPLETED; exit: 0; error: -; workDir: gs://eila-nextflow-bucket/work/ATAC/5f/d43fc1c8854ee056567526375cb380]
Dec-16 00:39:14.313 [FileTransfer-2] DEBUG nextflow.file.FilePorter - Local cache found for foreign file /home/eila/git_igvf/cellatlas-scrna-seq-pipeline/nextflow/nf_data/nf_wf_fg_singlecell/tss_regions.bed at gs://eila-nextflow-bucket/work/ATAC/stage-f7e37c4b-c1ab-4ccb-a8cb-153d209e8602/23/2cb3c7e91cdfe0c164c54092fd1983/tss_regions.bed
Dec-16 00:39:14.376 [Actor Thread 7] DEBUG io.seqera.wave.plugin.WaveClient - Wave request container config: https://fusionfs.seqera.io/releases/v2.2-amd64.json
Dec-16 00:39:14.430 [Actor Thread 7] DEBUG io.seqera.wave.plugin.WaveClient - Wave container config response: [200] {
  "entrypoint": [ "/usr/bin/fusion" ],
  "layers": [
    {
      "location": "https://fusionfs.seqera.io/releases/pkg/2/2/11/fusion-amd64.tar.gz",
      "gzipDigest": "sha256:b1664eb81e6049524db659a1225570507eea75267a1a55b1e2a85edded9e773d",
      "gzipSize": 30262205,
      "tarDigest": "sha256:5e126d27b3c3b4ffac9a4b2c94bd2d15fabdceeddcdf9b711154fc03d8a88d47",
      "skipHashing": true
    }
  ]
}

Dec-16 00:39:14.449 [Actor Thread 7] DEBUG io.seqera.wave.plugin.WaveClient - Wave request: https://wave.seqera.io/container-token; attempt=1 - request: SubmitContainerTokenRequest(towerAccessToken:eyJ0aWQiOiA4Mjk3fS5jNDNmYzA4NTg2MjAxNDQzOTAwYmUzNWEzZTY0MGMyZTc0OWE3M2Mz, towerRefreshToken:null, towerWorkspaceId:247507587970818, towerEndpoint:https://api.tower.nf, workflowId:null, containerImage:eilalan/tss_env:latest, containerFile:null, containerConfig:ContainerConfig(entrypoint:[/usr/bin/fusion], cmd:null, env:null, workingDir:null, layers:[ContainerLayer[location=data:H4sIAAAAAAAA/+19fXvb...; tarDigest=sha256:6c2ad26bd9c47a5c3d1cf24794ad350f3f876aa494a0d2b11231f6a11e1c540a; gzipDigest=sha256:a61fe64e8f0cb742a19f3c16c5e5b1996e75b94520a99e2c17116a93932cf704; gzipSize=16337], ContainerLayer[location=https://fusionfs.seqera.io/releases/pkg/2/2/11/fusion-amd64.tar.gz; tarDigest=sha256:5e126d27b3c3b4ffac9a4b2c94bd2d15fabdceeddcdf9b711154fc03d8a88d47; gzipDigest=sha256:b1664eb81e6049524db659a1225570507eea75267a1a55b1e2a85edded9e773d; gzipSize=30262205]]), condaFile:null, spackFile:null, containerPlatform:linux/amd64, buildRepository:null, cacheRepository:null, timestamp:2023-12-16T00:39:14.449253Z, fingerprint:f53976361d32818647a0f6934882364c, freeze:false, format:null, dryRun:false)
Dec-16 00:39:15.143 [Actor Thread 7] DEBUG io.seqera.wave.plugin.WaveClient - Wave response: statusCode=200; body={"containerToken":"ab8db6da434c","targetImage":"wave.seqera.io/wt/ab8db6da434c/eilalan/tss_env:latest","expiration":"2023-12-17T12:39:15.088761281Z","containerImage":"docker.io/eilalan/tss_env:latest"}
Dec-16 00:39:16.202 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_calculate_tss_enrichment (1)` - adding local volume as fusion scratch: DiskResource(request:375 GB, type:local-ssd)
Dec-16 00:39:16.420 [Task submitter] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_calculate_tss_enrichment (1)` submitted > job=nf-d397dcd2-1702687155659; uid=nf-d397dcd2-170268-5767bc7d-4fac-419d0; work-dir=gs://eila-nextflow-bucket/work/ATAC/d3/97dcd282c20e160c88fd5247589e32
Dec-16 00:39:16.420 [Task submitter] INFO  nextflow.Session - [d3/97dcd2] Submitted process > run_calculate_tss_enrichment (1)
Dec-16 00:39:53.496 [Task monitor] DEBUG n.c.g.batch.GoogleBatchTaskHandler - [GOOGLE BATCH] Process `run_atac_barcode_rank_plot (1)` - terminated job=nf-cdc99fa9-1702687015101; state=FAILED
Dec-16 00:39:54.766 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 12; name: run_atac_barcode_rank_plot (1); status: COMPLETED; exit: 1; error: -; workDir: gs://eila-nextflow-bucket/work/ATAC/cd/c99fa9b5c08c18749a9027d0df8b8f]
Dec-16 00:39:54.773 [Task monitor] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=run_atac_barcode_rank_plot (1); work-dir=gs://eila-nextflow-bucket/work/ATAC/cd/c99fa9b5c08c18749a9027d0df8b8f
  error [nextflow.exception.ProcessFailedException]: Process `run_atac_barcode_rank_plot (1)` terminated with an error exit status (1)
Dec-16 00:39:54.785 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'run_atac_barcode_rank_plot (1)'

Caused by:
  Process `run_atac_barcode_rank_plot (1)` terminated with an error exit status (1)

Command executed:

  # Print start of run_atac_barcode_rank_plot
  echo "Starting run_atac_barcode_rank_plot..."
  
  # Determine the script path using backticks
  script_path=$(command -v plot_insert_size_hist.py)
  echo "Script path: $script_path"
  
  # Execute the Python script
  echo "Filtered fragment file path: filtered_fragment_file.bed"
  histogram_file_arg="--histogram_file filtered_fragment_file.bed"
  echo "histogram_file_arg val is: $histogram_file_arg"
  
  pkr_arg="--pkr PKR123"
  echo "pkr_arg val is: $pkr_arg"
  
  out_file_arg="--out_file filtered_fragment_file.bed_hist_log.png"
  
  # Execute the Python script and capture the result file path
  python3 $script_path $histogram_file_arg  $pkr_arg $out_file_arg
  
  echo 'TODO: remove the next line when running with real data'
  touch ${filtered_fragment_file}.hist_log.png
  
  # Print finish of run_atac_barcode_rank_plot
  echo "Finished run_atac_barcode_rank_plot."

Command exit status:
  1

Command output:
  /fusion/gs/eila-nextflow-bucket/work/ATAC/cd/c99fa9b5c08c18749a9027d0df8b8f/.command.sh: line 23: filtered_fragment_file: unbound variable

Command error:
  Starting run_atac_barcode_rank_plot...Script path: /usr/local/bin/plot_insert_size_hist.pyFiltered fragment file path: filtered_fragment_file.bedhistogram_file_arg val is: --histogram_file filtered_fragment_file.bedpkr_arg val is: --pkr PKR123Starting histogram plotting scriptReceived arguments: ['/usr/local/bin/plot_insert_size_hist.py', '--histogram_file', 'filtered_fragment_file.bed', '--pkr', 'PKR123', '--out_file', 'filtered_fragment_file.bed_hist_log.png']Finished plottingTODO: remove the next line when running with real data12:39AM INF shutdown filesystem start12:39AM INF shutdown filesystem done

Work dir:
  gs://eila-nextflow-bucket/work/ATAC/cd/c99fa9b5c08c18749a9027d0df8b8f

Tip: when you have fixed the problem you can continue the execution adding the option `-resume` to the run command line
Dec-16 00:39:55.005 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `run_atac_barcode_rank_plot (1)` terminated with an error exit status (1)
Dec-16 00:39:55.032 [main] DEBUG nextflow.Session - Session await > all processes finished
Dec-16 00:39:55.032 [main] DEBUG nextflow.Session - Session await > all barriers passed
Dec-16 00:39:55.042 [main] WARN  n.processor.TaskPollingMonitor - Killing running tasks (1)
Dec-16 00:39:55.059 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=11; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=1; runningCount=-1; retriesCount=0; abortedCount=1; succeedDuration=3m 41s; failedDuration=1.3s; cachedDuration=0ms;loadCpus=-1; loadMemory=0; peakRunning=2; peakCpus=2; peakMemory=0; ]
Dec-16 00:39:55.086 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: google-batch) - terminating tasks monitor poll loop
Dec-16 00:39:55.399 [main] WARN  i.s.tower.plugin.TowerJsonGenerator - Tower request field `workflow.errorMessage` exceeds expected size | offending value: `Starting run_atac_barcode_rank_plot...Script path: /usr/local/bin/plot_insert_size_hist.pyFiltered fragment file path: filtered_fragment_file.bedhistogram_file_arg val is: --histogram_file filtered_fragment_file.bedpkr_arg val is: --pkr PKR123Starting histogram plotting scriptReceived arguments: ['/usr/local/bin/plot_insert_size_hist.py', '--histogram_file', 'filtered_fragment_file.bed', '--pkr', 'PKR123', '--out_file', 'filtered_fragment_file.bed_hist_log.png']Finished plottingTODO: remove the next line when running with real data12:39AM INF shutdown filesystem start12:39AM INF shutdown filesystem done`, size: 610 (max: 255)
Dec-16 00:39:55.833 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Dec-16 00:39:55.834 [main] INFO  org.pf4j.AbstractPluginManager - Stop plugin 'nf-wave@1.0.0'
Dec-16 00:39:55.834 [main] DEBUG nextflow.plugin.BasePlugin - Plugin stopped nf-wave
Dec-16 00:39:55.834 [main] INFO  org.pf4j.AbstractPluginManager - Stop plugin 'nf-tower@1.6.3'
Dec-16 00:39:55.834 [main] DEBUG nextflow.plugin.BasePlugin - Plugin stopped nf-tower
Dec-16 00:39:55.834 [main] INFO  org.pf4j.AbstractPluginManager - Stop plugin 'nf-google@1.8.3'
Dec-16 00:39:55.834 [main] DEBUG nextflow.plugin.BasePlugin - Plugin stopped nf-google
Dec-16 00:39:55.873 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
